<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SOC Dashboard | CyberDefense</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
    <!-- Chart.js for Analytics -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .stat-card {
            background: rgba(30, 41, 59, 0.7);
            border: 1px solid rgba(255, 255, 255, 0.1);
            padding: 1.5rem;
            border-radius: 12px;
            text-align: center;
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: 700;
            margin: 0.5rem 0;
            color: var(--primary-color);
        }

        .chart-container {
            background: rgba(30, 41, 59, 0.7);
            padding: 1.5rem;
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            margin-bottom: 2rem;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1rem;
        }

        th,
        td {
            text-align: left;
            padding: 0.75rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        th {
            color: var(--text-muted);
            font-size: 0.85rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .risk-badge {
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            font-size: 0.75rem;
            font-weight: 600;
        }

        .risk-low {
            background: rgba(34, 197, 94, 0.1);
            color: #22c55e;
        }

        .risk-medium {
            background: rgba(234, 179, 8, 0.1);
            color: #eab308;
        }

        .risk-high {
            background: rgba(239, 68, 68, 0.1);
            color: #ef4444;
        }

        .risk-critical {
            background: rgba(239, 68, 68, 0.2);
            color: #ff0000;
            border: 1px solid #ef4444;
        }
    </style>
</head>

<body class="soc-body">
    <div class="container-fluid"
        style="display: grid; grid-template-columns: 1fr 300px; gap: 20px; padding: 20px; height: 100vh; overflow: hidden;">

        <!-- MAIN DASHBOARD CONTENT -->
        <div style="overflow-y: auto; padding-right: 10px;">
            <div class="dashboard-header">
                <div>
                    <h1 style="text-shadow: 0 0 10px rgba(14, 165, 233, 0.5);">üõ°Ô∏è SOC Command Center</h1>
                    <p class="subtitle">Real-time Threat Intelligence & Risk Monitoring</p>
                </div>
                <a href="dashboard.html" class="logout-btn">BACK TO PORTAL</a>
            </div>

            <!-- STATS ROW -->
            <div class="dashboard-grid">
                <div class="stat-card">
                    <h3 style="color: #94a3b8; font-size: 0.9rem; text-transform: uppercase;">Total Users</h3>
                    <div class="stat-number" id="totalUsers" style="color: var(--neon-blue);">-</div>
                </div>
                <div class="stat-card" style="border-color: rgba(239, 68, 68, 0.3);">
                    <h3 style="color: #94a3b8; font-size: 0.9rem; text-transform: uppercase;">Critical Threats</h3>
                    <div class="stat-number" id="highRiskUsers"
                        style="color: var(--neon-red); text-shadow: 0 0 10px rgba(239, 68, 68, 0.4);">-</div>
                </div>
                <div class="stat-card">
                    <h3 style="color: #94a3b8; font-size: 0.9rem; text-transform: uppercase;">Security Events</h3>
                    <div class="stat-number" id="totalAttacks" style="color: #eab308;">-</div>
                </div>
            </div>

            <!-- CHARTS ROW -->
            <div class="dashboard-grid" style="grid-template-columns: 2fr 1fr;">
                <div class="chart-container">
                    <h3>üì° Attack Traffic Analysis</h3>
                    <canvas id="attackChart"></canvas>
                </div>
                <div class="chart-container">
                    <h3>‚ö†Ô∏è Threat Distribution</h3>
                    <canvas id="threatPieChart"></canvas>
                </div>
            </div>

            <!-- LIVE EVENTS & RISK USERS -->
            <div class="dashboard-grid" style="grid-template-columns: 1fr 1fr;">
                <!-- Live Feed -->
                <div class="card">
                    <h3>üì¢ Live Security Event Feed</h3>
                    <div id="eventFeed" style="max-height: 300px; overflow-y: auto;">
                        <table>
                            <thead>
                                <tr>
                                    <th>Time</th>
                                    <th>Event</th>
                                    <th>IP</th>
                                    <th>Lv</th>
                                </tr>
                            </thead>
                            <tbody id="eventTableBody"></tbody>
                        </table>
                    </div>
                </div>

                <!-- Risk Heatmap -->
                <div class="card">
                    <h3>üî• User Risk Heatmap</h3>
                    <div style="max-height: 300px; overflow-y: auto;">
                        <table>
                            <thead>
                                <tr>
                                    <th>User</th>
                                    <th>Score</th>
                                    <th>Level</th>
                                </tr>
                            </thead>
                            <tbody id="riskTableBody"></tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <!-- SIDEBAR TERMINAL -->
        <div class="terminal-box" id="debugLog">
            <div
                style="color: #fff; margin-bottom: 1rem; font-weight: bold; border-bottom: 1px solid #444; padding-bottom: 0.5rem;">
                >_ SYSTEM_LOGS
            </div>
            <div style="color: #00ff00;">[System Init] Dashboard loaded.</div>
            <div style="color: #00ff00;">[System Init] Connecting to Secure API...</div>
        </div>

    </div>

    <script src="js/admin_soc.js"></script>
</body>

</html>
```